[gd_scene load_steps=14 format=3 uid="uid://chh2uqsap64m"]

[ext_resource type="Script" path="res://levels/level_1/battle/battle_normal.gd" id="1_cu8el"]
[ext_resource type="TileSet" uid="uid://chgphnvipg4x8" path="res://levels/level_1/level1_home.tres" id="1_jrehu"]
[ext_resource type="PackedScene" uid="uid://cw6ekyepny274" path="res://entities/enemies/snail/snail.tscn" id="3_wch3k"]
[ext_resource type="PackedScene" uid="uid://cyfthfkyonmnl" path="res://entities/player/player_inbattle.tscn" id="5_h01kl"]
[ext_resource type="AudioStream" uid="uid://cni3hdyo6oiwk" path="res://audio/battle/Mass Destruction -Reload-.mp3" id="5_qfo7u"]

[sub_resource type="Gradient" id="Gradient_norbw"]
offsets = PackedFloat32Array(0.954545, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_bb04f"]
gradient = SubResource("Gradient_norbw")
fill_to = Vector2(0, 0)

[sub_resource type="Animation" id="Animation_myigo"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-248, -155)]
}

[sub_resource type="Animation" id="Animation_qph52"]
resource_name = "move_blackscreen"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.5, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(-280, -155), Vector2(-588, -155)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_o1d1x"]
_data = {
"RESET": SubResource("Animation_myigo"),
"move_blackscreen": SubResource("Animation_qph52")
}

[sub_resource type="Animation" id="Animation_4wjhw"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-77, -30)]
}

[sub_resource type="Animation" id="Animation_2u4k0"]
resource_name = "move_camera"
length = 1.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.5, 1.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(-70, -30), Vector2(45, -30)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_3ewyj"]
_data = {
"RESET": SubResource("Animation_4wjhw"),
"move_camera": SubResource("Animation_2u4k0")
}

[node name="BattleNormal" type="Node2D" node_paths=PackedStringArray("player")]
script = ExtResource("1_cu8el")
player = NodePath("Player")

[node name="TextureRect" type="TextureRect" parent="."]
z_index = 10
offset_left = -248.0
offset_top = -155.0
offset_right = 153.0
offset_bottom = 73.0
texture = SubResource("GradientTexture2D_bb04f")

[node name="AnimationPlayer" type="AnimationPlayer" parent="TextureRect"]
libraries = {
"": SubResource("AnimationLibrary_o1d1x")
}
autoplay = "move_blackscreen"

[node name="Map" type="TileMap" parent="."]
tile_set = ExtResource("1_jrehu")
format = 2
layer_0/name = "Ground"
layer_0/tile_data = PackedInt32Array(131069, 0, 9, 65538, 0, 9, 65543, 0, 9, 131064, 0, 9, 65548, 0, 9, 131059, 0, 9, 262129, 65536, 13, 196622, 131072, 13, 196621, 65536, 13, 196620, 65536, 13, 196619, 65536, 13, 196618, 65536, 13, 196617, 65536, 13, 196616, 65536, 13, 196615, 65536, 13, 196614, 65536, 13, 196613, 65536, 13, 196612, 65536, 13, 196611, 65536, 13, 196610, 65536, 13, 196609, 65536, 13, 196608, 65536, 13, 262143, 65536, 13, 262142, 65536, 13, 262141, 65536, 13, 262140, 65536, 13, 262139, 65536, 13, 262138, 65536, 13, 262137, 65536, 13, 262136, 65536, 13, 262135, 65536, 13, 262134, 65536, 13, 262133, 65536, 13, 262132, 65536, 13, 262131, 65536, 13, 262130, 65536, 13, -196597, 524288, 4, -65530, 393216, 5, -131066, 393216, 5, -196602, 393216, 5, -262138, 393216, 4, -327674, 393216, 3, -393210, 393216, 4, -458746, 393216, 2, -524282, 393216, 2, -524281, 458752, 2, -524283, 327680, 2, -131084, 327680, 14, -131083, 393216, 14, -131082, 393216, 14, -131081, 393216, 14, -131080, 458752, 14, -196616, 458752, 13, -262152, 458752, 12, -262156, 327680, 12, -196620, 327680, 13, -262155, 393216, 12, -262154, 393216, 12, -262153, 393216, 12, -196617, 393216, 13, -196618, 393216, 13, -196619, 393216, 13, 327665, 65536, 13, 327666, 65536, 13, 327667, 65536, 13, 327668, 65536, 13, 327669, 65536, 13, 327670, 65536, 13, 327671, 65536, 13, 327672, 65536, 13, 327673, 65536, 13, 327674, 65536, 13, 327675, 65536, 13, 327676, 65536, 13, 327677, 65536, 13, 327678, 65536, 13, 327679, 65536, 13, 262144, 65536, 13, 262145, 65536, 13, 262146, 65536, 13, 262147, 65536, 13, 262148, 65536, 13, 262149, 65536, 13, 262150, 65536, 13, 262151, 65536, 13, 262152, 65536, 13, 262153, 65536, 13, 262154, 65536, 13, 262155, 65536, 13, 262156, 65536, 13, 262157, 65536, 13, 262158, 65536, 13, 393201, 65536, 13, 458737, 65536, 13, 393202, 65536, 13, 458738, 65536, 13, 393203, 65536, 13, 458739, 65536, 13, 393204, 65536, 13, 458740, 65536, 13, 393205, 65536, 13, 458741, 65536, 13, 393206, 65536, 13, 458742, 65536, 13, 393207, 65536, 13, 458743, 65536, 13, 393208, 65536, 13, 458744, 65536, 13, 393209, 65536, 13, 458745, 65536, 13, 393210, 65536, 13, 458746, 65536, 13, 393211, 65536, 13, 458747, 65536, 13, 393212, 65536, 13, 458748, 65536, 13, 393213, 65536, 13, 458749, 65536, 13, 393214, 65536, 13, 458750, 65536, 13, 393215, 65536, 13, 458751, 65536, 13, 327680, 65536, 13, 393216, 65536, 13, 327681, 65536, 13, 393217, 65536, 13, 327682, 65536, 13, 393218, 65536, 13, 327683, 65536, 13, 393219, 65536, 13, 327684, 65536, 13, 393220, 65536, 13, 327685, 65536, 13, 393221, 65536, 13, 327686, 65536, 13, 393222, 65536, 13, 327687, 65536, 13, 393223, 65536, 13, 327688, 65536, 13, 393224, 65536, 13, 327689, 65536, 13, 393225, 65536, 13, 327690, 65536, 13, 393226, 65536, 13, 327691, 65536, 13, 393227, 65536, 13, 327692, 65536, 13, 393228, 65536, 13, 327693, 65536, 13, 393229, 65536, 13, 327694, 131072, 13, 393230, 65536, 13, 524273, 65536, 13, 589809, 65536, 13, 524274, 65536, 13, 589810, 65536, 13, 524275, 65536, 13, 589811, 65536, 13, 524276, 65536, 13, 589812, 65536, 13, 524277, 65536, 13, 589813, 65536, 13, 524278, 65536, 13, 589814, 65536, 13, 524279, 65536, 13, 589815, 65536, 13, 524280, 65536, 13, 589816, 65536, 13, 524281, 65536, 13, 589817, 65536, 13, 524282, 65536, 13, 589818, 65536, 13, 524283, 65536, 13, 589819, 65536, 13, 524284, 65536, 13, 589820, 65536, 13, 524285, 65536, 13, 589821, 65536, 13, 524286, 65536, 13, 589822, 65536, 13, 524287, 65536, 13, 589823, 65536, 13, 458752, 65536, 13, 524288, 65536, 13, 458753, 65536, 13, 524289, 65536, 13, 458754, 65536, 13, 524290, 65536, 13, 458755, 65536, 13, 524291, 65536, 13, 458756, 65536, 13, 524292, 65536, 13, 458757, 65536, 13, 524293, 65536, 13, 458758, 65536, 13, 524294, 65536, 13, 458759, 65536, 13, 524295, 65536, 13, 458760, 65536, 13, 524296, 65536, 13, 458761, 65536, 13, 524297, 65536, 13, 458762, 65536, 13, 524298, 65536, 13, 458763, 65536, 13, 524299, 65536, 13, 458764, 65536, 13, 524300, 65536, 13, 458765, 65536, 13, 524301, 65536, 13, 458766, 131072, 13, 524302, 65536, 13, 655345, 65536, 13, 720881, 65536, 13, 655346, 65536, 13, 720882, 65536, 13, 655347, 65536, 13, 720883, 65536, 13, 655348, 65536, 13, 720884, 65536, 13, 655349, 65536, 13, 720885, 65536, 13, 655350, 65536, 13, 720886, 65536, 13, 655351, 65536, 13, 720887, 65536, 13, 655352, 65536, 13, 720888, 65536, 13, 655353, 65536, 13, 720889, 65536, 13, 655354, 65536, 13, 720890, 65536, 13, 655355, 65536, 13, 720891, 65536, 13, 655356, 65536, 13, 720892, 65536, 13, 655357, 65536, 13, 720893, 65536, 13, 655358, 65536, 13, 720894, 65536, 13, 655359, 65536, 13, 720895, 65536, 13, 589824, 65536, 13, 655360, 65536, 13, 589825, 65536, 13, 655361, 65536, 13, 589826, 65536, 13, 655362, 65536, 13, 589827, 65536, 13, 655363, 65536, 13, 589828, 65536, 13, 655364, 65536, 13, 589829, 65536, 13, 655365, 65536, 13, 589830, 65536, 13, 655366, 65536, 13, 589831, 65536, 13, 655367, 65536, 13, 589832, 65536, 13, 655368, 65536, 13, 589833, 65536, 13, 655369, 65536, 13, 589834, 65536, 13, 655370, 65536, 13, 589835, 65536, 13, 655371, 65536, 13, 589836, 65536, 13, 655372, 65536, 13, 589837, 65536, 13, 655373, 65536, 13, 589838, 131072, 13, 655374, 65536, 13)
layer_1/name = "Background1"
layer_1/z_index = -1
layer_1/tile_data = PackedInt32Array(-458767, 0, 5, -393231, 0, 5, -327695, 0, 6, -262159, 0, 6, -196623, 0, 7, -131087, 0, 7, -65551, 0, 7, -15, 0, 7, -458766, 65536, 6, -393230, 65536, 6, -327694, 65536, 6, -262158, 65536, 7, -196622, 65536, 7, -131086, 65536, 7, -65550, 65536, 7, -14, 65536, 7, -458765, 65536, 6, -393229, 65536, 7, -327693, 65536, 7, -262157, 65536, 7, -196621, 65536, 7, -131085, 65536, 7, -65549, 65536, 7, -13, 65536, 7, -458764, 65536, 6, -393228, 65536, 7, -327692, 65536, 7, -262156, 65536, 7, -196620, 65536, 7, -131084, 65536, 7, -65548, 65536, 7, -12, 65536, 7, -458763, 65536, 6, -393227, 65536, 7, -327691, 65536, 7, -262155, 65536, 7, -196619, 65536, 7, -131083, 65536, 7, -65547, 65536, 7, -11, 65536, 7, -458762, 65536, 6, -393226, 65536, 7, -327690, 65536, 7, -262154, 65536, 7, -196618, 65536, 7, -131082, 65536, 7, -65546, 65536, 7, -10, 65536, 7, -458761, 65536, 6, -393225, 65536, 7, -327689, 65536, 7, -262153, 65536, 7, -196617, 65536, 7, -131081, 65536, 7, -65545, 65536, 7, -9, 65536, 7, -458760, 65536, 6, -393224, 65536, 7, -327688, 65536, 7, -262152, 65536, 7, -196616, 65536, 7, -131080, 65536, 7, -65544, 65536, 7, -8, 65536, 7, -458759, 65536, 6, -393223, 65536, 7, -327687, 65536, 7, -262151, 65536, 7, -196615, 65536, 7, -131079, 65536, 7, -65543, 65536, 7, -7, 65536, 7, -458758, 65536, 6, -393222, 65536, 7, -327686, 65536, 7, -262150, 65536, 7, -196614, 65536, 7, -131078, 65536, 7, -65542, 65536, 7, -6, 65536, 7, -458757, 65536, 6, -393221, 65536, 7, -327685, 65536, 7, -262149, 65536, 7, -196613, 65536, 7, -131077, 65536, 7, -65541, 65536, 7, -5, 65536, 7, -458756, 65536, 6, -393220, 65536, 7, -327684, 65536, 7, -262148, 65536, 7, -196612, 65536, 7, -131076, 65536, 7, -65540, 65536, 7, -4, 65536, 7, -458755, 65536, 6, -393219, 65536, 7, -327683, 65536, 7, -262147, 65536, 7, -196611, 65536, 7, -131075, 65536, 7, -65539, 65536, 7, -3, 65536, 7, -458754, 65536, 6, -393218, 65536, 6, -327682, 65536, 6, -262146, 65536, 7, -196610, 65536, 7, -131074, 65536, 7, -65538, 65536, 7, -2, 65536, 7, -458753, 131072, 5, -393217, 131072, 5, -327681, 131072, 6, -262145, 131072, 6, -196609, 131072, 7, -131073, 131072, 7, -65537, 131072, 7, -1, 131072, 7, -524288, 0, 5, -458752, 0, 5, -393216, 0, 6, -327680, 0, 6, -262144, 0, 7, -196608, 0, 7, -131072, 0, 7, -65536, 0, 7, -524287, 65536, 6, -458751, 65536, 6, -393215, 65536, 6, -327679, 65536, 7, -262143, 65536, 7, -196607, 65536, 7, -131071, 65536, 7, -65535, 65536, 7, -524286, 65536, 6, -458750, 65536, 7, -393214, 65536, 7, -327678, 65536, 7, -262142, 65536, 7, -196606, 65536, 7, -131070, 65536, 7, -65534, 65536, 7, -524285, 65536, 6, -458749, 65536, 7, -393213, 65536, 7, -327677, 65536, 7, -262141, 65536, 7, -196605, 65536, 7, -131069, 65536, 7, -65533, 65536, 7, -524284, 65536, 6, -458748, 65536, 7, -393212, 65536, 7, -327676, 65536, 7, -262140, 65536, 7, -196604, 65536, 7, -131068, 65536, 7, -65532, 65536, 7, -524283, 65536, 6, -458747, 65536, 7, -393211, 65536, 7, -327675, 65536, 7, -262139, 65536, 7, -196603, 65536, 7, -131067, 65536, 7, -65531, 65536, 7, -524282, 65536, 6, -458746, 65536, 7, -393210, 65536, 7, -327674, 65536, 7, -262138, 65536, 7, -196602, 65536, 7, -131066, 65536, 7, -65530, 65536, 7, -524281, 65536, 6, -458745, 65536, 7, -393209, 65536, 7, -327673, 65536, 7, -262137, 65536, 7, -196601, 65536, 7, -131065, 65536, 7, -65529, 65536, 7, -524280, 65536, 6, -458744, 65536, 7, -393208, 65536, 7, -327672, 65536, 7, -262136, 65536, 7, -196600, 65536, 7, -131064, 65536, 7, -65528, 65536, 7, -524279, 65536, 6, -458743, 65536, 7, -393207, 65536, 7, -327671, 65536, 7, -262135, 65536, 7, -196599, 65536, 7, -131063, 65536, 7, -65527, 65536, 7, -524278, 65536, 6, -458742, 65536, 7, -393206, 65536, 7, -327670, 65536, 7, -262134, 65536, 7, -196598, 65536, 7, -131062, 65536, 7, -65526, 65536, 7, -524277, 65536, 6, -458741, 65536, 7, -393205, 65536, 7, -327669, 65536, 7, -262133, 65536, 7, -196597, 65536, 7, -131061, 65536, 7, -65525, 65536, 7, -524276, 65536, 6, -458740, 65536, 7, -393204, 65536, 7, -327668, 65536, 7, -262132, 65536, 7, -196596, 65536, 7, -131060, 65536, 7, -65524, 65536, 7, -524275, 65536, 6, -458739, 65536, 6, -393203, 65536, 6, -327667, 65536, 7, -262131, 65536, 7, -196595, 65536, 7, -131059, 65536, 7, -65523, 65536, 7, -524274, 131072, 5, -458738, 131072, 5, -393202, 131072, 6, -327666, 131072, 6, -262130, 131072, 7, -196594, 131072, 7, -131058, 131072, 7, -65522, 131072, 7)
layer_2/name = "Before_Ground"
layer_2/z_index = 1
layer_2/tile_data = PackedInt32Array(-131068, 524288, 9, -262139, 655360, 8, -262140, 589824, 8, -262141, 524288, 8, -131071, 327680, 10, -262143, 393216, 8)
layer_3/name = "Before_Ground2"
layer_3/z_index = 2
layer_3/tile_data = PackedInt32Array(-262141, 851968, 6, -262140, 917504, 6, -262139, 1179648, 6, -327675, 1179648, 6, -327676, 1179648, 6, -327677, 1376256, 6)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(-77, -30)
zoom = Vector2(3.6, 3.6)
position_smoothing_enabled = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="Camera2D"]
libraries = {
"": SubResource("AnimationLibrary_3ewyj")
}
autoplay = "move_camera"

[node name="Snail" parent="." instance=ExtResource("3_wch3k")]
position = Vector2(120, 0)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("5_qfo7u")
volume_db = -12.0
autoplay = true

[node name="Player" parent="." instance=ExtResource("5_h01kl")]

[connection signal="animation_finished" from="TextureRect/AnimationPlayer" to="Player" method="_on_animation_player_animation_finished"]
